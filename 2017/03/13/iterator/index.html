<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="Iterator"/>




  <meta name="keywords" content="Iterator, Feiou Zhang" />










  <link rel="alternate" href="/atom.xml" title="Feiou Zhang">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.6.0" />



<link rel="canonical" href="http://yoursite.com/2017/03/13/iterator/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />




  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









    <title> Iterator - Feiou Zhang </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Feiou Zhang</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Feiou Zhang</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              Categories
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Iterator
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-03-13
        </span>
        
          <div class="post-category">
            
              <a href="/categories/Java基础/">Java基础</a>
            
          </div>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-and-when-should-use-the-Iterator"><span class="toc-text">Why and when should use the Iterator?</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#What-is-the-iterator-for"><span class="toc-text">What is the iterator for?</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Iterator-and-ListIterator"><span class="toc-text">Iterator and ListIterator</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <h3 id="Why-and-when-should-use-the-Iterator"><a href="#Why-and-when-should-use-the-Iterator" class="headerlink" title="Why and when should use the Iterator?"></a>Why and when should use the Iterator?</h3><p><code>Important! DO NOT use for loop to traversal a LinkedList</code><br>​</p>
<h4 id="What-is-the-iterator-for"><a href="#What-is-the-iterator-for" class="headerlink" title="What is the iterator for?"></a>What is the iterator for?</h4><p>​<br>It used to cycle through the elements in a collection, in other words, we can consider the iterator as the traversal simply. By using the iterator, you can obtain or remove elements. (ListIterator extends Iterator to allow bidirectional traversal of a list).<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">​</span></span><br><span class="line"><span class="function"><span class="comment">//Returns true if there are more elements. Otherwise, returns false.</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">Object <span class="title">next</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">​</span></span><br><span class="line"><span class="function"><span class="comment">//Returns the next element. Throws NoSuchElementException if there is not a next element.</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">​</span></span><br><span class="line"><span class="function"><span class="comment">//Removes the current element. </span></span></span><br><span class="line"><span class="function"><span class="comment">//Throws IllegalStateException if an attempt is made to call remove( ) that is not preceded by a call to next( ).</span></span></span><br></pre></td></tr></table></figure></p>
<p>Every data structure or algorithm is designed for solve some problem. So, before we have iterator, how do we traversal.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arrays = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arrays.length; i++)</span><br><span class="line">    print(arrays[i]);</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>This main defect of this method is that we have to know the data structure of the collection, also, if you want to change to another type of collection, the code won’t be useable.<br>​<br>The iterator perfectly solved this problem, you do not have to know much about the object, and no matter what kind of data structure you want to traversal(<code>List, Set, or Tree</code>), iterator always use one logic to traversal.<br>​<br><br><br>​<br>So, in what kind of situation, we should consider using interator in the first place? or in other words, in which way, the iterator is better than the get(index)?<br>​<br><br><br>​<br>Iterator is very useful, but it does not mean you should always use it when you want to do the traversal without thinking. Actually, if the for loop or enhance for loop can easily solve the problem, there is no need to use the iterator, they are about the same. <code>However, in some situation, you better to use iterator instead.</code><br>​<br><br><br>​</p>
<ul>
<li>When you need to remove an item as you scanning. <ul>
<li>By using the enhanced for loop, if you remove an element during the traversal, it will throw the ConcurrentModificationException.</li>
<li>By using the regular for loop, it will delete the element without any exception, however, there will be a chance that you miss to delete others, for example, after you delete the second element then visit the third element, however, as it just deleted the second element, the third element you visited is actually the fourth element, in this case, if the third element is also the element you want to delete, then you will miss that one.<br>​<br><em>delete from the end to front also works</em><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">String[] strs = <span class="keyword">new</span> String[]&#123;<span class="string">"aa"</span>,<span class="string">"ab"</span>,<span class="string">"ab"</span>,<span class="string">"ac"</span>,<span class="string">"cd"</span>&#125;;</span><br><span class="line">        List&lt;String&gt; ls = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String str: strs)</span><br><span class="line">            ls.add(str);</span><br><span class="line">        System.out.println(ls);  <span class="comment">//[aa, ab, ab, ac, cd]</span></span><br><span class="line">        String s = <span class="string">"ab"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; ls.size(); ++j)</span><br><span class="line">            <span class="keyword">if</span>(ls.get(j).equals(s))</span><br><span class="line">                ls.remove(j);</span><br><span class="line">        System.out.println(ls);  <span class="comment">//[aa, ab, ac, cd]</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = ls.size()-<span class="number">1</span>; j &gt;= <span class="number">0</span>; --j)</span><br><span class="line">            <span class="keyword">if</span>(ls.get(j).equals(s))</span><br><span class="line">                ls.remove(j);</span><br><span class="line">        System.out.println(ls);  <span class="comment">//[aa, ac, cd]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li>When you need to traverse a LinkedList<ul>
<li>Technically you can still use the for loop, it will give you the right result without any exception. However, it will be <code>extremely slow</code>!</li>
<li>Why? Because every time get(index), it will traverse all the elements before that index.</li>
<li>Actually the enhanced for loop is also an option, however, an enhanced for loop is an iterator indeed.</li>
</ul>
</li>
<li>when you need to traverse a Set<ul>
<li>Because there is no get method for Set, it has to use the iterator to traverse.</li>
</ul>
</li>
</ul>
<h3 id="Iterator-and-ListIterator"><a href="#Iterator-and-ListIterator" class="headerlink" title="Iterator and ListIterator"></a>Iterator and ListIterator</h3><ul>
<li>First of all, Iterator can be used in any kind of collections, such as List, Set, Tree. However, ListIterator can only be used in List and Vector.</li>
<li>ListIterator has all the method that Iterator does, and a few more.<ul>
<li>void add(Object obj) // Inserts obj into the list in front of the element that will be returned by the next call to next( ).</li>
<li>boolean hasPrevious( ) and Object previous( ) // Those two allow you can do the reverse traversal.</li>
<li>nextIndex() and previousIndex() // Returns the index of the next or previous element. if there is no next element, it will returns the size of the list, and if there is no previous element, it will returns -1.</li>
<li>void set(Object obj) // Assigns obj to the current element. This is the element last returned by a call to either next( ) or previous( ).</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; ls = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">ls.add(<span class="string">"aa"</span>);</span><br><span class="line">ls.add(<span class="string">"ab"</span>);</span><br><span class="line">ls.add(<span class="string">"ac"</span>);</span><br><span class="line">ListIterator it = ls.listIterator();</span><br><span class="line"><span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">    <span class="keyword">if</span>(it.next().equals(<span class="string">"aa"</span>)) it.add(<span class="string">"av"</span>);</span><br><span class="line">    System.out.print(it.next() + <span class="string">""</span> + it.nextIndex());</span><br><span class="line">    <span class="keyword">if</span>(it.next().equals(<span class="string">"ac"</span>)) it.set(<span class="string">"ae"</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(ls); <span class="comment">//ab3[aa, av, ab, ae]</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
      
      



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Iterator/">Iterator</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2017/03/13/array/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">array</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:feiou.zhang@email.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
        
          <a href="https://www.linkedin.com/in/feiouzhang/" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
    
      
        
          <a href="https://github.com/Feiou-Zhang" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
  </div>


<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2017 - 
    
    2018

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Feiou Zhang</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  

  



    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

  </body>
</html>
