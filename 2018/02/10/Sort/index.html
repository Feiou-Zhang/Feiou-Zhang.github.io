<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="排序"/>




  <meta name="keywords" content="Sort, Feiou Zhang" />










  <link rel="alternate" href="/atom.xml" title="Feiou Zhang">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.6.0" />



<link rel="canonical" href="http://yoursite.com/2018/02/10/Sort/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />




  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









    <title> 排序 - Feiou Zhang </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Feiou Zhang</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Feiou Zhang</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              Categories
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          排序
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-02-10
        </span>
        
          <div class="post-category">
            
              <a href="/categories/Algorithm/">Algorithm</a>
            
          </div>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#快排，归并排模板"><span class="toc-text">快排，归并排模板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#quickSort"><span class="toc-text">quickSort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mergeSort"><span class="toc-text">mergeSort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自下而上的并归排序，轻易不要尝试，很复杂"><span class="toc-text">自下而上的并归排序，轻易不要尝试，很复杂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#148-Sort-List"><span class="toc-text">148. Sort List</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#桶排序"><span class="toc-text">桶排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#561-Array-Partition-I"><span class="toc-text">561. Array Partition I</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diy快排"><span class="toc-text">diy快排</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#75-Sort-Colors"><span class="toc-text">75. Sort Colors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#143-Sort-Colors-II"><span class="toc-text">143. Sort Colors II</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#215-Kth-Largest-Element-in-an-Array"><span class="toc-text">215. Kth Largest Element in an Array</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Wiggle-Sort"><span class="toc-text">Wiggle Sort</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#280-Wiggle-Sort"><span class="toc-text">280. Wiggle Sort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#324-Wiggle-Sort-II"><span class="toc-text">324. Wiggle Sort II</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#376-Wiggle-Subsequence"><span class="toc-text">376. Wiggle Subsequence</span></a></li></ol></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <h3 id="快排，归并排模板"><a href="#快排，归并排模板" class="headerlink" title="快排，归并排模板"></a>快排，归并排模板</h3><h4 id="quickSort"><a href="#quickSort" class="headerlink" title="quickSort"></a>quickSort</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickSort</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 思路：递归函数3个形参，数组， start， end 的index</span></span><br><span class="line"><span class="comment">     * 当start 大于等于 end 时。函数停止</span></span><br><span class="line"><span class="comment">     * 首先找一个pivot 变量，可以简单的选择第一个元素</span></span><br><span class="line"><span class="comment">     * 然后当 start 小于 end的时候，循环，</span></span><br><span class="line"><span class="comment">     * 当 end指针的数字 大于等于pivot的时候，左移end指针，结束后 swap start 和end</span></span><br><span class="line"><span class="comment">     * 当start指针上的数字， 小于等于pivot的时候，右移start指针，结束后，swap start 和 end</span></span><br><span class="line"><span class="comment">     * 结束大循环后， start和end重叠，而且，这个位置上的数，就是pivot，</span></span><br><span class="line"><span class="comment">     * 而且这个pivot一定在正确的位置上，因为，比他小的都在他左边，右边同理</span></span><br><span class="line"><span class="comment">     * 然后就可以递归的做左边和右边</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        quickSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start &gt;= end) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> s = start;</span><br><span class="line">        <span class="keyword">int</span> e = end;</span><br><span class="line">        <span class="keyword">int</span> pivot = nums[s];</span><br><span class="line">        <span class="keyword">while</span> (s &lt; e) &#123;</span><br><span class="line">            <span class="keyword">while</span> (s &lt; e &amp;&amp; nums[e] &gt;= pivot) &#123;</span><br><span class="line">                --e;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(nums, s, e);</span><br><span class="line">            <span class="keyword">while</span> (s &lt; e &amp;&amp; nums[s] &lt;= pivot) &#123;</span><br><span class="line">                ++s;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(nums, s, e);</span><br><span class="line">        &#125;</span><br><span class="line">        quickSort(nums, start, s - <span class="number">1</span>);</span><br><span class="line">        quickSort(nums, s + <span class="number">1</span>, end);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="mergeSort"><a href="#mergeSort" class="headerlink" title="mergeSort"></a>mergeSort</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sort</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        sort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">meger</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> mid, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] tem = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> start1 = start;</span><br><span class="line">        <span class="keyword">int</span> start2 = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (start1 &lt;= mid &amp;&amp; start2 &lt;= end) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[start1] &lt;= nums[start2]) &#123;</span><br><span class="line">                tem[k++] = nums[start1++];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                tem[k++] = nums[start2++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (start1 &lt;= mid) &#123;</span><br><span class="line">            tem[k++] = nums[start1++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (start2 &lt;= end) &#123;</span><br><span class="line">            tem[k++] = nums[start2++];</span><br><span class="line">        &#125;</span><br><span class="line">        System.arraycopy(tem, <span class="number">0</span>, nums, start, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start &gt;= end) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid = start + (end - start) / <span class="number">2</span>;</span><br><span class="line">        sort(nums, start, mid);</span><br><span class="line">        sort(nums, mid + <span class="number">1</span>, end);</span><br><span class="line">        meger(nums, start, mid, end);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="自下而上的并归排序，轻易不要尝试，很复杂"><a href="#自下而上的并归排序，轻易不要尝试，很复杂" class="headerlink" title="自下而上的并归排序，轻易不要尝试，很复杂"></a>自下而上的并归排序，轻易不要尝试，很复杂</h4><p>mergesort(buttom up)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MergeSort</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[] copy, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> mid)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> start = lo, <span class="comment">//cache the start index</span></span><br><span class="line">            k = lo, <span class="comment">// k will the be index of the copy array</span></span><br><span class="line">            lo2 = mid + <span class="number">1</span>; <span class="comment">//the lo2 will be the lowest index of the second half</span></span><br><span class="line">        <span class="keyword">while</span>(lo &lt;= mid &amp;&amp; lo2 &lt;= hi)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[lo] &lt;= nums[lo2])&#123;</span><br><span class="line">                copy[k++] = nums[lo++];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                copy[k++] = nums[lo2++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//in case there is still any element left</span></span><br><span class="line">        <span class="keyword">while</span>(lo &lt;= mid) copy[k++] = nums[lo++];</span><br><span class="line">        <span class="keyword">while</span>(lo2 &lt;= hi) copy[k++] = nums[lo2++];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//copy back to the original array</span></span><br><span class="line">        System.arraycopy(copy, start, nums, start, hi - start + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[] copy = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="comment">//we first deal with size 1, then each time we increment the size by 2 times</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> size = <span class="number">1</span>; size &lt; n; size *= <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="comment">//as we do not need to do anything if there is only one element in the range, </span></span><br><span class="line">            <span class="comment">//so we can skip that by increamenting size + size</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> lo = <span class="number">0</span>; lo &lt; n - size; lo += size + size)&#123;</span><br><span class="line">                <span class="comment">// we know the mid for sure, but not the hi, </span></span><br><span class="line">                <span class="comment">//because there could be some cases that the last parts is shorter than the size</span></span><br><span class="line">                <span class="keyword">int</span> mid = lo + size - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">int</span> hi = Math.min(lo + size + size - <span class="number">1</span>, n - <span class="number">1</span>);</span><br><span class="line">                merge(nums, copy, lo, hi, mid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="148-Sort-List"><a href="#148-Sort-List" class="headerlink" title="148. Sort List"></a>148. Sort List</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 题意：nlogn时间排序链表</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SortList0148</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** time O(nlogn) space O(1) 方法：merge sort</span></span><br><span class="line"><span class="comment">     * 思路：先递归拆分，然后合并，拆分的时候，用快慢指针找mid，然后mid.next = null做分割</span></span><br><span class="line"><span class="comment">     * 然后分别递归左右两边，递归出口就是，只剩一个节点的情况，就直接返回该节点，</span></span><br><span class="line"><span class="comment">     * 拆分之后，调用merge函数，合并就可以了</span></span><br><span class="line"><span class="comment">     * 优化：</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">sortList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode mid = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            mid = slow;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        mid.next = <span class="keyword">null</span>;</span><br><span class="line">        ListNode first = sortList(head);</span><br><span class="line">        ListNode second = sortList(mid);</span><br><span class="line">        <span class="keyword">return</span> merge(first, second);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> ListNode <span class="title">merge</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        ListNode head = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode tail = head;</span><br><span class="line">        <span class="keyword">while</span> (l1 != <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (l1.val &lt; l2.val) &#123;</span><br><span class="line">                tail.next = l1;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                tail.next = l2;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l1 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            tail.next = l1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            tail.next = l2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h3><h4 id="561-Array-Partition-I"><a href="#561-Array-Partition-I" class="headerlink" title="561. Array Partition I"></a>561. Array Partition I</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 题意：给一个无序数组，range是-10000 到 10000，求，如果把数组里面的数 两两分组</span></span><br><span class="line"><span class="comment"> * 然后每组里面取最小的数来代表这个组，然后使所有组的综合最大，那么这个最大值是多少</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayPartitionI561</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** time O(n) space O(n) 方法：桶排序</span></span><br><span class="line"><span class="comment">     * 思路：如果每组取最小的数来代表这个组，那么逻辑就是 尽量让那个稍大的数，尽量小，</span></span><br><span class="line"><span class="comment">     * 所以，也就是排序好之后，两两一组，然后把单数index的数相加求和</span></span><br><span class="line"><span class="comment">     * 优化：但这样排序需要O(nlogn)，如果用桶排序，可以用O(n)时间和空间来优化，tradeoff</span></span><br><span class="line"><span class="comment">     * 具体就是开一个2w的数组，然后做个桶排，依次把基数位加到sum里</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">arrayPairSum</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span> || nums.length % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] tmp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">20001</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            ++tmp[num + <span class="number">10000</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">boolean</span> odd = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tmp.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (tmp[i]-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (odd) &#123;</span><br><span class="line">                    sum += (i - <span class="number">10000</span>);</span><br><span class="line">                    odd = <span class="keyword">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    odd = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="diy快排"><a href="#diy快排" class="headerlink" title="diy快排"></a>diy快排</h3><h4 id="75-Sort-Colors"><a href="#75-Sort-Colors" class="headerlink" title="75. Sort Colors"></a>75. Sort Colors</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 题意：给一个无序数组，里面有0，1，2三种元素，代表3种颜色</span></span><br><span class="line"><span class="comment"> * 要求，排序，</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SortColors0075</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** time O(n) space O(1) 方法：3-way partition</span></span><br><span class="line"><span class="comment">     * 思路：首先想到的就是桶排序，需要O(K)空间</span></span><br><span class="line"><span class="comment">     * 优化：3-way partition</span></span><br><span class="line"><span class="comment">     * 3-way partition的方法就是，用3个指针，left，right 和 i</span></span><br><span class="line"><span class="comment">     * 如果nums[i] 比1小，那么i和left swap，反之 i 和 right swap</span></span><br><span class="line"><span class="comment">     * 如果nums[i] 等于1，那么只++i，</span></span><br><span class="line"><span class="comment">     * 注意：nums[i] 比1小 的时候。swap的时候，要同时increment i和left</span></span><br><span class="line"><span class="comment">     * 但比1大的时候，只decrement right， 原因就是换到左边的数，位置是确定了的，</span></span><br><span class="line"><span class="comment">     * 但从右边换过来的数，还有可能是比1大的数，所以，要继续检查</span></span><br><span class="line"><span class="comment">     * 这样，可以用left保证，左边都比一小，right保证右边都比1大，</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= right) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; <span class="number">1</span>) &#123;</span><br><span class="line">                swap(nums, i++, left++);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                swap(nums, i, right--);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ++i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span> <span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tem = nums[a];</span><br><span class="line">        nums[a] = nums[b];</span><br><span class="line">        nums[b] = tem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="143-Sort-Colors-II"><a href="#143-Sort-Colors-II" class="headerlink" title="143. Sort Colors II"></a>143. Sort Colors II</h4> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 题意：排序 无序数组，里面有k种元素，1到k*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SortColorsII0143LintCode</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** time O(n^2) space O(1) 方法：桶排序，或者k way partition</span></span><br><span class="line"><span class="comment">     * 思路：桶排序直观，但需要额外空间，</span></span><br><span class="line"><span class="comment">     * 优化：如果需要inplace做的话，需要用partition，</span></span><br><span class="line"><span class="comment">     * 方法就是 start 和end 记录当前的2种颜色</span></span><br><span class="line"><span class="comment">     * 左右指针来做 two way partition，每次做完一次，更新下2个颜色</span></span><br><span class="line"><span class="comment">     * 方法3，用原数组当做bucket 做counting sort，把当前元素的 原位置，用负数做count</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors2</span><span class="params">(<span class="keyword">int</span>[] colors, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (colors == <span class="keyword">null</span> || colors.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> startColor = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> endColor = k;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = colors.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (startColor &lt; endColor) &#123;</span><br><span class="line">            <span class="keyword">int</span> i = left;</span><br><span class="line">            <span class="keyword">while</span> (i &lt;= right) &#123;</span><br><span class="line">                <span class="keyword">if</span> (colors[i] == endColor) &#123;</span><br><span class="line">                    swap(colors, i, right--);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (colors[i] == startColor) &#123;</span><br><span class="line">                    swap(colors, i++, left++);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    ++i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ++startColor;</span><br><span class="line">            --endColor;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span> <span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tem = nums[a];</span><br><span class="line">        nums[a] = nums[b];</span><br><span class="line">        nums[b] = tem;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors3</span><span class="params">(<span class="keyword">int</span>[] colors, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (colors == <span class="keyword">null</span> || colors.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; colors.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (colors[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> num = colors[i];</span><br><span class="line">                <span class="keyword">if</span> (colors[num - <span class="number">1</span>] &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    --colors[num - <span class="number">1</span>];</span><br><span class="line">                    colors[i] = <span class="number">0</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    colors[i] = colors[num - <span class="number">1</span>];</span><br><span class="line">                    colors[num - <span class="number">1</span>] = -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> j = colors.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> count = -colors[k - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; count; ++c) &#123;</span><br><span class="line">                colors[j--] = k;</span><br><span class="line">            &#125;</span><br><span class="line">            --k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="215-Kth-Largest-Element-in-an-Array"><a href="#215-Kth-Largest-Element-in-an-Array" class="headerlink" title="215. Kth Largest Element in an Array"></a>215. Kth Largest Element in an Array</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 无序数组中，找到第k个大的数*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KthLargestElementinanArray0215</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** time O(n) space O(n) 方法：优先队列 或者 diy快排</span></span><br><span class="line"><span class="comment">     * 思路：1. 维护一个k大小的最小堆，扫一遍数组 ，如果堆得size大于k了，就poll出最小的</span></span><br><span class="line"><span class="comment">     * 这样，当堆里只有k个元素的时候，堆顶的就是第k大的</span></span><br><span class="line"><span class="comment">     * 复杂度的话，时间是 nlogk，空间是k</span></span><br><span class="line"><span class="comment">     * 优化：如果可以改input数组的话，可以自己实现一个快排，这样，可以接近去O（n）时间</span></span><br><span class="line"><span class="comment">     * 当结束一整次swap 之后，如果 len - l == k 说明，l现在就在从右边数第k个index上</span></span><br><span class="line"><span class="comment">     * 直接返回，否则，就按照逻辑。循环左边或右边</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> l = left;</span><br><span class="line">            <span class="keyword">int</span> r = right;</span><br><span class="line">            <span class="keyword">int</span> pivot = nums[l];</span><br><span class="line">            <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">                <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[r] &gt;= pivot) &#123;</span><br><span class="line">                    --r;</span><br><span class="line">                &#125;</span><br><span class="line">                swap(nums, r, l);</span><br><span class="line">                <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[l] &lt;= pivot) &#123;</span><br><span class="line">                    ++l;</span><br><span class="line">                &#125;</span><br><span class="line">                swap(nums, l, r);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nums.length - l == k) &#123;</span><br><span class="line">                <span class="keyword">return</span> nums[l];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums.length - l &gt; k) &#123;</span><br><span class="line">                left = l + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = r - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span> <span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tem = nums[a];</span><br><span class="line">        nums[a] = nums[b];</span><br><span class="line">        nums[b] = tem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Wiggle-Sort"><a href="#Wiggle-Sort" class="headerlink" title="Wiggle Sort"></a>Wiggle Sort</h3><h4 id="280-Wiggle-Sort"><a href="#280-Wiggle-Sort" class="headerlink" title="280. Wiggle Sort"></a>280. Wiggle Sort</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 题意：给一个无序无重数组，要求in place 做一个摇摆排序，也就是小大小大小 这样的顺序</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WiggleSort0280</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** time O(n) space O(1) 方法：</span></span><br><span class="line"><span class="comment">     * 思路：方法就是，假设之前都已经排好序，如果当前元素处于错误位置，那么就把当前元素和前一个元素swap，</span></span><br><span class="line"><span class="comment">     * 比如当前位置本来应该大于前一个，但现在却小于前一个了， 那么对调之后，当前2个元素肯定是排好序的</span></span><br><span class="line"><span class="comment">     * 而且也一定不会影响之前的元素，因为，前一个本来就应该小于更前面一个，现在换过去个比之前更小的元素</span></span><br><span class="line"><span class="comment">     * 所以也一定小于更前面的元素，反之同理</span></span><br><span class="line"><span class="comment">     * 优化：</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wiggleSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">1</span> &amp;&amp; nums[i] &lt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                    swap(nums, i, i - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; nums[i] &gt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                swap(nums, i, i - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = nums[a];</span><br><span class="line">        nums[a] = nums[b];</span><br><span class="line">        nums[b] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="324-Wiggle-Sort-II"><a href="#324-Wiggle-Sort-II" class="headerlink" title="324. Wiggle Sort II"></a>324. Wiggle Sort II</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 题意：follow up： 只能小于 或 大于，不能小于等于， 大于等于</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WiggleSortII0324</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** 时间复杂度 O（n）, space O(1)</span></span><br><span class="line"><span class="comment">思路 : 先用diy quick sort 找到中位数，然后，中位数左边小于中位数，右边大于中位数</span></span><br><span class="line"><span class="comment">然后，依次吧后面的大数放到前面的山峰（偶数index），需要注意的时候，如果数组长度是偶数</span></span><br><span class="line"><span class="comment">那么要从倒数第二个开始，如果是奇数，从倒数第一个开始，逻辑就是把后面的山谷换到前面当山峰</span></span><br><span class="line"><span class="comment">扫一遍之后，理应结束了，但数组里面有重复元素，所以很有可能有些山峰和山谷是同一个高度</span></span><br><span class="line"><span class="comment">想一下，可以知道，会导致这种情况的数字只有可能是中位数，因为如果重复数字在前面或者后面，</span></span><br><span class="line"><span class="comment">重复数字肯定就错开了，they must be staggered 比如 1423999   1929394</span></span><br><span class="line"><span class="comment">所以，这时候，我们只需要把扫2遍数组，把山峰和山谷上的中位数往两边换</span></span><br><span class="line"><span class="comment">     如何保证换走后 新位置的正确性呢，</span></span><br><span class="line"><span class="comment">     因为左边山峰的元素是从后面换过来的，所以肯定比中位数大，</span></span><br><span class="line"><span class="comment">     而，左边山谷的元素本来就是比中位数小的元素，所以换过去只会更小，所以也成立</span></span><br><span class="line"><span class="comment">     唯一需要注意的地方就是，要先检查，要换过的位置上，是否已经是中位数了，如果是，就先跳到下一位</span></span><br><span class="line"><span class="comment">j = (n % 2 == 0) ? (n - 2) : (n - 1) 的意思就是，如果n是偶数，最后一位是山峰</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wiggleSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span> mid = findMedian(nums, n / <span class="number">2</span>);</span><br><span class="line">        <span class="comment">//右山谷换到左山峰</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = (n % <span class="number">2</span> == <span class="number">0</span>) ? n - <span class="number">2</span>: n - <span class="number">1</span>; i &lt; j; i += <span class="number">2</span>, j -= <span class="number">2</span>) &#123;</span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//把右边山谷的中位数，换到左边山谷</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = (n % <span class="number">2</span> == <span class="number">0</span>) ? n - <span class="number">2</span>: n - <span class="number">1</span>; i &lt; j; j -= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[i] == mid) &#123;</span><br><span class="line">                i += <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; j &amp;&amp; nums[j] == mid) &#123;</span><br><span class="line">                swap(nums, i, j);</span><br><span class="line">                i += <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//把左边山峰的中位数，换到右边山峰</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = (n % <span class="number">2</span> == <span class="number">1</span>) ? n - <span class="number">2</span>: n - <span class="number">1</span>; i &lt; j; i += <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[j] == mid) &#123;</span><br><span class="line">                j -= <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; j &amp;&amp; nums[i] == mid) &#123;</span><br><span class="line">                swap(nums, i, j);</span><br><span class="line">                j -= <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findMedian</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> l = left;</span><br><span class="line">            <span class="keyword">int</span> r = right;</span><br><span class="line">            <span class="keyword">int</span> pivot = nums[l];</span><br><span class="line">            <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">                <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[r] &gt;= pivot) &#123;</span><br><span class="line">                    --r;</span><br><span class="line">                &#125;</span><br><span class="line">                swap(nums, l, r);</span><br><span class="line">                <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[l] &lt;= pivot) &#123;</span><br><span class="line">                    ++l;</span><br><span class="line">                &#125;</span><br><span class="line">                swap(nums, l, r);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (l == k) &#123;</span><br><span class="line">                <span class="keyword">return</span> nums[l];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (l &lt; k) &#123;</span><br><span class="line">                left = l + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = r - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = nums[a];</span><br><span class="line">        nums[a] = nums[b];</span><br><span class="line">        nums[b] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="376-Wiggle-Subsequence"><a href="#376-Wiggle-Subsequence" class="headerlink" title="376. Wiggle Subsequence"></a>376. Wiggle Subsequence</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 题意：如果一个序列的相邻数字之差在正数和负数之间交替变换，则称此序列为一个“摆动序列”。第一个差值（如果存在的话）正负均可。</span></span><br><span class="line"><span class="comment"> * 少于两个元素的序列也被认为是摆动序列。例如，[1,7,4,9,2,5] 是一个摆动序列，因为差值(6,-3,5,-7,3)正负交替。</span></span><br><span class="line"><span class="comment"> * 反例， [1,4,7,2,5] 以及 [1,7,4,5,5] 不是摆动序列，第一个是因为前两个差值连续为正，第二个是因为最后一个差值是0。</span></span><br><span class="line"><span class="comment"> * 给定一个整数序列，返回其最长摆动子序列的长度。一个子序列可以通过从原始序列中删除一定数目的（也可以为0）元素得到。</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WiggleSubsequence0376</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** time O(n) space O(1) 方法：贪心</span></span><br><span class="line"><span class="comment">     * 思路：因为第一个数可以是峰也可以是谷，所以，需要枚举2种情况，用一个布尔变量来标记上一个元素是峰还是谷</span></span><br><span class="line"><span class="comment">     * 如果上一个元素是低谷，且当前元素比它大，那么count加1，布尔标记成峰，反之亦然，</span></span><br><span class="line"><span class="comment">     * 这里有个点需要注意，如果出现了不符合条件的情况，count自然不加，布尔也不变，当峰或谷的值应该继续变，</span></span><br><span class="line"><span class="comment">     * 意思就是，如果上一个是峰，当前这个本来应该是要比上一个小的，但现在是比上一个大了，那么布尔不变，(上一个仍然是峰）</span></span><br><span class="line"><span class="comment">     * 但峰值我们应该选当前这个，而不是上一个，因为当前这个更大，就有更多机会比后面的数大，反之亦然</span></span><br><span class="line"><span class="comment">     * 所以，i可以一直和 i-1 比。</span></span><br><span class="line"><span class="comment">     * 优化：</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">wiggleMaxLength</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums.length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.max(getMax(nums, <span class="keyword">true</span>), getMax(nums, <span class="keyword">false</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getMax</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">boolean</span> isValley)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isValley &amp;&amp; nums[i] &gt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                isValley = <span class="keyword">false</span>;</span><br><span class="line">                ++max;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!isValley &amp;&amp; nums[i] &lt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                isValley = <span class="keyword">true</span>;</span><br><span class="line">                ++max;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
      
      



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Sort/">Sort</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2018/02/10/twopointer/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">双指针，窗口类，对撞类，并行类</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:feiou.zhang@email.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
        
          <a href="https://www.linkedin.com/in/feiouzhang/" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
    
      
        
          <a href="https://github.com/Feiou-Zhang" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
  </div>


<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2017 - 
    
    2018

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Feiou Zhang</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  

  



    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

  </body>
</html>
